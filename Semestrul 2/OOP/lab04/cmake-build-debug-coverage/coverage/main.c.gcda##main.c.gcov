        -:    0:Source:/mnt/d/oop/lab03/main.c
        -:    0:Graph:/mnt/d/oop/lab03/cmake-build-debug-coverage/CMakeFiles/lab03.dir/main.c.gcno
        -:    0:Data:/mnt/d/oop/lab03/cmake-build-debug-coverage/CMakeFiles/lab03.dir/main.c.gcda
        -:    0:Runs:1
        -:    1:#include "repository.h"
        -:    2:#include "service.h"
        -:    3:#include "ui.h"
        -:    4:#include "sort.h"
        -:    5:
        -:    6:/*
        -:    7: * 7. Administrator imobil
        -:    8: * Creati o aplicatie care petmite gestiunea de cheltuieli lunare pentru apartamentele dintr-un bloc.
        -:    9: * Fiecare cheltuiala are: numarul apartamentului, suma, tipul (apa, canal, incalzire, gaz).
        -:   10: * Aplicatia permite:
        -:   11: * a) Adaugarea de cheltuieli pentru un apartament
        -:   12: * b) Modificarea unei cheltuieli existente (tipul, suma)
        -:   13: * c) Stergere cheltuiala
        -:   14: * d) Vizualizare lista de cheltuieli filtrat dupa o proprietate (suma, tipul)
        -:   15: * e) Vizualizare lista de cheltuieli ordonat dupa suma sau tip (crescator/descrescator)
        -:   16: */
        -:   17:
function run_app_tests called 1 returned 100% blocks executed 100%
        1:   18:void run_app_tests() {
        1:   19:    run_domain_tests();
        1:   19-block  0
call    0 returned 1
        1:   20:    run_repository_tests();
call    0 returned 1
        1:   21:    run_validator_tests();
call    0 returned 1
        1:   22:    run_service_tests();
call    0 returned 1
        1:   23:    run_sort_test();
call    0 returned 1
        1:   24:}
        -:   25:
function run_app called 0 returned 0% blocks executed 0%
    #####:   26:void run_app() {
        -:   27:    // initializare lista
    #####:   28:    Repo* storage_cheltuieli = creeaza_repository();
    %%%%%:   28-block  0
call    0 never executed
        -:   29:
    #####:   30:    while(1) {
    %%%%%:   30-block  0
    #####:   31:        menu();
    %%%%%:   31-block  0
call    0 never executed
        -:   32:
    #####:   33:        int command = citire_comanda(6, "Citeste o comanda: ");
call    0 never executed
    #####:   34:        if(command == 1) {
branch  0 never executed
branch  1 never executed
        -:   35:            // citesc si validez date pentru o noua cheltuiala
    #####:   36:            int id_cheltuiala = get_nr_cheltuieli(storage_cheltuieli);
    %%%%%:   36-block  0
call    0 never executed
    #####:   37:            int numar_apartament = citire_nr_apartament("Citeste numarul apartamentului: ");
call    0 never executed
    #####:   38:            int suma_cheltuiala = citire_suma_cheltuiala("Citeste suma cheltuielii: ");
call    0 never executed
    #####:   39:            char *tip_cheltuiala = citire_tip_cheltuiala("Citeste tipul cheltuielii: ");
call    0 never executed
        -:   40:
    #####:   41:            storage_cheltuieli = adauga_o_noua_cheltuiala(storage_cheltuieli,
call    0 never executed
        -:   42:                    id_cheltuiala, numar_apartament, suma_cheltuiala, tip_cheltuiala);
        -:   43:        }
    #####:   44:        else if(command == 2) {
    %%%%%:   44-block  0
branch  0 never executed
branch  1 never executed
    #####:   45:            if(get_nr_cheltuieli(storage_cheltuieli) > 0) {
    %%%%%:   45-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
        -:   46:                // listez toate cheltuielile
    #####:   47:                print_cheltuieli(storage_cheltuieli);
    %%%%%:   47-block  0
call    0 never executed
        -:   48:
        -:   49:                // aleg id-ul cheltuielii pe care doresc sa o modific
    #####:   50:                int id_ales = citire_id(get_nr_cheltuieli(storage_cheltuieli) - 1,
call    0 never executed
call    1 never executed
        -:   51:                                        "Introdu id-ul cheltuielii pe care doresti sa o modifici: ");
        -:   52:
        -:   53:                // introduc noua suma si noul tip
    #####:   54:                int suma_noua = citire_suma_cheltuiala("Introdu noua suma: ");
call    0 never executed
    #####:   55:                char *tip_cheltuiala_nou = citire_tip_cheltuiala("Introdu noul tip: ");
call    0 never executed
        -:   56:
    #####:   57:                storage_cheltuieli = modifica_cheltuiala_existenta(storage_cheltuieli, id_ales,
call    0 never executed
        -:   58:                                                                   suma_noua, tip_cheltuiala_nou);
    #####:   59:                print_mesaj("Cheltuiala modificata cu succes!\n");
call    0 never executed
        -:   60:            }
        -:   61:            else
    #####:   62:                print_mesaj("Nu exista suficiente inregistrari!\n");
    %%%%%:   62-block  0
call    0 never executed
        -:   63:        }
    #####:   64:        else if(command == 3) {
    %%%%%:   64-block  0
branch  0 never executed
branch  1 never executed
    #####:   65:            if(get_nr_cheltuieli(storage_cheltuieli) > 0) {
    %%%%%:   65-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
        -:   66:                // afisez lista
    #####:   67:                print_cheltuieli(storage_cheltuieli);
    %%%%%:   67-block  0
call    0 never executed
        -:   68:
        -:   69:                // aleg id
    #####:   70:                int id_ales = citire_id(get_nr_cheltuieli(storage_cheltuieli) - 1,
call    0 never executed
call    1 never executed
        -:   71:                                        "Introdu id-ul cheltuielii pe care doresti sa o stergi: ");
        -:   72:
    #####:   73:                storage_cheltuieli = sterge_cheltuiala_din_storage(storage_cheltuieli, id_ales);
call    0 never executed
    #####:   74:                print_mesaj("Cheltuiala stearsa cu succes!\n");
call    0 never executed
        -:   75:            }
        -:   76:            else
    #####:   77:                print_mesaj("Nu exista suficiente inregistrari!\n");
    %%%%%:   77-block  0
call    0 never executed
        -:   78:        }
    #####:   79:        else if(command == 4) {
    %%%%%:   79-block  0
branch  0 never executed
branch  1 never executed
    #####:   80:            if(get_nr_cheltuieli(storage_cheltuieli) > 0) {
    %%%%%:   80-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:   81:                show_filter_menu();
    %%%%%:   81-block  0
call    0 never executed
        -:   82:
    #####:   83:                int filter_command = citire_comanda(2, "Alege tipul de filtrare: ");
call    0 never executed
    #####:   84:                if(filter_command == 1) {
branch  0 never executed
branch  1 never executed
        -:   85:                    // dupa suma
    #####:   86:                    afisare_cheltuieli_filtrat_suma(storage_cheltuieli);
    %%%%%:   86-block  0
call    0 never executed
        -:   87:                }
        -:   88:                else{
        -:   89:                    // dupa tip
    #####:   90:                    afisare_cheltuieli_filtrat_tip(storage_cheltuieli);
    %%%%%:   90-block  0
call    0 never executed
        -:   91:                }
        -:   92:            }
        -:   93:            else
    #####:   94:                print_mesaj("Nu exista suficiente inregistrari!\n");
    %%%%%:   94-block  0
call    0 never executed
        -:   95:        }
    #####:   96:        else if(command == 5) {
    %%%%%:   96-block  0
branch  0 never executed
branch  1 never executed
    #####:   97:            if(get_nr_cheltuieli(storage_cheltuieli) > 0) {
    %%%%%:   97-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:   98:                show_ordonated_menu();
    %%%%%:   98-block  0
call    0 never executed
        -:   99:
    #####:  100:                int sort_command = citire_comanda(2, "Alege tipul de sortare: ");
call    0 never executed
    #####:  101:                if(sort_command == 1) {
branch  0 never executed
branch  1 never executed
        -:  102:                    // dupa suma
    #####:  103:                    show_ordonated_menu_for_sum();
    %%%%%:  103-block  0
call    0 never executed
        -:  104:
    #####:  105:                    int sum_command = citire_comanda(2, "Alege cum doresti sa faci sortarea: ");
call    0 never executed
    #####:  106:                    if(sum_command == 1) {
branch  0 never executed
branch  1 never executed
        -:  107:                        // crescator
    #####:  108:                        storage_cheltuieli = sortare(storage_cheltuieli, comparare_suma_mai_mare);
    %%%%%:  108-block  0
call    0 never executed
        -:  109:                    }
        -:  110:                    else{
        -:  111:                        //descrescator
    #####:  112:                        storage_cheltuieli = sortare(storage_cheltuieli, comparare_suma_mai_mic);
    %%%%%:  112-block  0
call    0 never executed
        -:  113:                    }
        -:  114:                }
        -:  115:                else {
        -:  116:                    // dupa tip
    #####:  117:                    show_ordonated_menu_for_type();
    %%%%%:  117-block  0
call    0 never executed
        -:  118:
    #####:  119:                    int type_command = citire_comanda(2, "Alege cum doresti sa faci sortarea: ");
call    0 never executed
    #####:  120:                    if(type_command == 1) {
branch  0 never executed
branch  1 never executed
        -:  121:                        // crescator (alfabetic)
    #####:  122:                        storage_cheltuieli = sortare(storage_cheltuieli, comparare_tipuri_mai_mare);
    %%%%%:  122-block  0
call    0 never executed
        -:  123:                    }
        -:  124:                    else {
        -:  125:                        // descrescator
    #####:  126:                        storage_cheltuieli = sortare(storage_cheltuieli, comparare_tipuri_mai_mic);
    %%%%%:  126-block  0
call    0 never executed
        -:  127:                    }
        -:  128:                }
        -:  129:
    #####:  130:                print_cheltuieli(storage_cheltuieli);
    %%%%%:  130-block  0
call    0 never executed
        -:  131:
        -:  132:                // revenire sortat dupa id
    #####:  133:                storage_cheltuieli = sortare(storage_cheltuieli, comparare_id_crescator);
call    0 never executed
        -:  134:            }
        -:  135:            else
    #####:  136:                print_mesaj("Nu exista inregistrari facute!\n");
    %%%%%:  136-block  0
call    0 never executed
        -:  137:
        -:  138:        }
        -:  139:        else {
        -:  140:            // dealocare de memorie
    #####:  141:            destroy_repository(storage_cheltuieli);
    %%%%%:  141-block  0
call    0 never executed
        -:  142:
        -:  143:            // inchidere aplicatie
    #####:  144:            return;
        -:  145:        }
        -:  146:    }
        -:  147:}
        -:  148:
function main called 1 returned 100% blocks executed 100%
        1:  149:int main() {
        1:  150:    run_app_tests();
        1:  150-block  0
call    0 returned 1
        -:  151:    //run_app();
        1:  152:    return 0;
        -:  153:}
